=================================================================
JStore E-Commerce API - COMPLETE Backend Test Suite
=================================================================


[1;33mâ•â•â• LEVEL 1: Authentication Tests â•â•â•[0m

[0;34m--- Test 1.1: Register Customer User ---[0m
[0;31mâœ— FAIL[0m: Register customer user (Expected: 200, Got: 409)
   Response: {"path":"/api/auth/register","error":"Conflict","message":"User already exists with username: 'customer1'","timestamp":[2025,11,13,21,48,20,899089739],"status":409}

[0;34m--- Test 1.2: Login as Customer ---[0m
[0;32mâœ“ PASS[0m: Customer login (HTTP 200)
[0;32mCustomer token extracted[0m

[0;34m--- Test 1.3: Login as Admin (using existing admin) ---[0m
[1;33mNo existing admin, will use customer for remaining tests[0m

[0;34m--- Test 1.4: Login with Invalid Credentials ---[0m
[0;32mâœ“ PASS[0m: Login with wrong password (should fail) (HTTP 401)

[1;33mâ•â•â• LEVEL 2: Public Product Endpoints â•â•â•[0m

[0;34m--- Test 2.1: Get All Products (Paginated) ---[0m
[0;32mâœ“ PASS[0m: Get all products with pagination (HTTP 200)

[0;34m--- Test 2.2: Get Product by ID ---[0m
[0;32mâœ“ PASS[0m: Get product by ID (HTTP 200)

[0;34m--- Test 2.3: Get All Categories ---[0m
[0;32mâœ“ PASS[0m: Get all categories (HTTP 200)

[0;34m--- Test 2.4: Search Products ---[0m
[0;32mâœ“ PASS[0m: Search products by name (HTTP 200)

[0;34m--- Test 2.5: Check Product Inventory ---[0m
[0;32mâœ“ PASS[0m: Get product inventory status (HTTP 200)

[0;34m--- Test 2.6: Get Non-Existent Product ---[0m
[0;32mâœ“ PASS[0m: Get non-existent product (should fail) (HTTP 404)

[1;33mâ•â•â• LEVEL 3: Shopping Cart Operations â•â•â•[0m

[0;34m--- Test 3.1: Add First Item to Cart ---[0m
[0;32mâœ“ PASS[0m: Add item to cart (HTTP 200)

[0;34m--- Test 3.2: Add Second Item to Cart ---[0m
[0;32mâœ“ PASS[0m: Add second item to cart (HTTP 200)

[0;34m--- Test 3.3: View Cart ---[0m
[0;32mâœ“ PASS[0m: View cart with multiple items (HTTP 200)
Cart contents:
  Items: 2, Total: $2899.97

[0;34m--- Test 3.4: Update Cart Item Quantity ---[0m
[0;32mâœ“ PASS[0m: Update cart item quantity (HTTP 200)

[0;34m--- Test 3.5: Add to Cart Without Auth (Should Fail) ---[0m
[0;32mâœ“ PASS[0m: Add to cart without authentication (should fail) (HTTP 401)

[1;33mâ•â•â• LEVEL 4: Order Checkout & Management â•â•â•[0m

[0;34m--- Test 4.1: Checkout Order ---[0m
[0;32mâœ“ PASS[0m: Checkout order (HTTP 201)
[0;32mOrder created with ID: 5[0m

[0;34m--- Test 4.2: Get User Order History ---[0m
[0;32mâœ“ PASS[0m: Get user order history (HTTP 200)

[0;34m--- Test 4.3: Get Specific Order Details ---[0m
[0;32mâœ“ PASS[0m: Get order by ID (HTTP 200)

[0;34m--- Test 4.4: Cancel Order ---[0m
[0;32mâœ“ PASS[0m: Cancel order (HTTP 200)

[1;33mâ•â•â• LEVEL 5: Admin Order Management â•â•â•[0m

[0;34m--- Setup: Create Order for Admin Testing ---[0m
[0;32mCreated order 6 for admin testing[0m
[1;33mSkipping admin order tests - no admin token or order ID[0m

[1;33mâ•â•â• LEVEL 6: Review System (Purchase Verification) â•â•â•[0m

[0;34m--- Test 6.1: Create Review Without Purchase (Should Fail) ---[0m
[0;32mâœ“ PASS[0m: Review without purchase (should fail) (HTTP 400)

[0;34m--- Test 6.3: Get Product Reviews ---[0m
[0;32mâœ“ PASS[0m: Get product reviews (public) (HTTP 200)

[0;34m--- Test 6.4: Get Product Average Rating ---[0m
[0;32mâœ“ PASS[0m: Get product average rating (HTTP 200)

[0;34m--- Test 6.5: Get User's Own Reviews ---[0m
[0;32mâœ“ PASS[0m: Get user's reviews (HTTP 200)

[1;33mâ•â•â• LEVEL 7: Admin Product & Inventory Management â•â•â•[0m
[1;33mSkipping admin product tests - no admin token[0m

=================================================================
[1;33mTEST SUMMARY[0m
=================================================================
  [0;32mPassed: 21[0m
  [0;31mFailed: 1[0m
  Total:  22
=================================================================

[0;31mSome tests failed![0m
See /tmp/complete_test_results.md for details
